<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contributing to EcoExtract • ecoextract</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Contributing to EcoExtract"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ecoextract</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/getting-started.html">Getting Started with EcoExtract</a></li>
    <li><a class="dropdown-item" href="articles/ecoextract-workflow.html">Complete Workflow: From PDF to Database</a></li>
    <li><a class="dropdown-item" href="articles/configuration.html">Configuring EcoExtract for Your Data</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/n8layman/ecoextract/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Contributing to EcoExtract</h1>
      <small class="dont-index">Source: <a href="https://github.com/n8layman/ecoextract/blob/main/CONTRIBUTING.md" class="external-link"><code>CONTRIBUTING.md</code></a></small>
    </div>

<div id="contributing-to-ecoextract" class="section level1">

<p>Thank you for your interest in contributing to EcoExtract!</p>
<div class="section level2">
<h2 id="how-to-contribute">How to Contribute<a class="anchor" aria-label="anchor" href="#how-to-contribute"></a></h2>
<p>All contributions must be made via pull request (PR). Direct commits to the main branch are not accepted.</p>
<div class="section level3">
<h3 id="submission-process">Submission Process<a class="anchor" aria-label="anchor" href="#submission-process"></a></h3>
<ol style="list-style-type: decimal"><li>Fork the repository</li>
<li>Create a feature branch from <code>main</code>
</li>
<li>Make your changes following the code style guidelines below</li>
<li>Write tests for new functionality</li>
<li>Run local tests with <code><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">devtools::test()</a></code>
</li>
<li>Run package checks with <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code>
</li>
<li><strong>Only create a PR when your work is complete and ready for review/merge</strong></li>
</ol><p><strong>Important:</strong> Each push to a PR branch triggers integration tests in CI, which consume API credits. To avoid unnecessary costs:</p>
<ul><li>Feel free to push commits to your fork or branch as you work</li>
<li><strong>Only create the PR when your work is complete and ready for merge</strong></li>
<li>Avoid creating draft PRs or WIP PRs for early feedback</li>
<li>If you need early feedback, open an issue for discussion instead</li>
</ul></div>
<div class="section level3">
<h3 id="merge-policy">Merge Policy<a class="anchor" aria-label="anchor" href="#merge-policy"></a></h3>
<ul><li>All PRs are merged using <strong>squash merge</strong> to maintain a clean commit history</li>
<li>Write a clear PR description that summarizes all changes</li>
<li>Your commits will be squashed into a single commit on merge</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h2>
<div class="section level3">
<h3 id="local-testing">Local Testing<a class="anchor" aria-label="anchor" href="#local-testing"></a></h3>
<p>Run the test suite locally:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">check</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="integration-tests">Integration Tests<a class="anchor" aria-label="anchor" href="#integration-tests"></a></h3>
<p>The repository includes integration tests that verify API interactions with LLM providers (Anthropic for extraction/refinement, Mistral for OCR). These tests:</p>
<ul><li>Run automatically on all pull requests via GitHub Actions</li>
<li>Verify API structure and response formats, not content accuracy</li>
<li>Are schema-agnostic and work with any domain/prompts</li>
</ul><p>By default, these integration tests will not run locally because API keys are stored as secrets in the CI environment. However, you can run them locally if you have your own API keys:</p>
<div class="section level4">
<h4 id="running-integration-tests-locally">Running Integration Tests Locally<a class="anchor" aria-label="anchor" href="#running-integration-tests-locally"></a></h4>
<ol style="list-style-type: decimal"><li>Get API keys from the providers:
<ul><li>Anthropic: <a href="https://console.anthropic.com/" class="external-link uri">https://console.anthropic.com/</a>
</li>
<li>Mistral: <a href="https://console.mistral.ai/" class="external-link uri">https://console.mistral.ai/</a>
</li>
</ul></li>
<li>Create a <code>.env</code> file in the package root (this file is gitignored):</li>
</ol><div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># .env</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="va">ANTHROPIC_API_KEY</span><span class="op">=</span>your_anthropic_api_key_here</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="va">MISTRAL_API_KEY</span><span class="op">=</span>your_mistral_api_key_here</span></code></pre></div>
<ol start="3" style="list-style-type: decimal"><li>Load environment variables before running tests:</li>
</ol><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run all tests including integration tests (loads .env automatically)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/n8layman/ecoextract" class="external-link">ecoextract</a></span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/test.html" class="external-link">test</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Note:</strong> Never commit API keys to the repository. The <code>.env</code> file is gitignored to prevent accidental commits.</p>
</div>
<div class="section level4">
<h4 id="ci-integration-tests">CI Integration Tests<a class="anchor" aria-label="anchor" href="#ci-integration-tests"></a></h4>
<p>When you submit a PR, integration tests will run automatically in CI. These tests consume API credits, so:</p>
<ul><li>Only create PRs when your work is complete and ready for merge</li>
<li>Each push to a PR branch triggers the full integration test suite</li>
<li>Run tests locally first to catch issues before submitting</li>
</ul><p>If CI integration tests fail, the maintainers will work with you to resolve any issues.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="code-style">Code Style<a class="anchor" aria-label="anchor" href="#code-style"></a></h2>
<ul><li>Use native pipe <code>|&gt;</code> instead of magrittr pipe <code>%&gt;%</code>
</li>
<li>Follow the <a href="https://style.tidyverse.org/" class="external-link">tidyverse style guide</a>
</li>
<li>Use roxygen2 documentation format for all exported functions</li>
<li>Prefer explicit over implicit code</li>
</ul></div>
<div class="section level2">
<h2 id="testing-philosophy">Testing Philosophy<a class="anchor" aria-label="anchor" href="#testing-philosophy"></a></h2>
<ul><li>All new functions must have tests</li>
<li>Use testthat 3rd edition</li>
<li>Use <code>withr</code> for cleanup, not <code><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit()</a></code>
</li>
<li>Tests must be schema-agnostic (work with any domain/prompts)</li>
<li>See <code>tests/TESTING_PHILOSOPHY.md</code> for detailed testing patterns</li>
</ul></div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h2>
<ul><li>Document all exported functions with roxygen2</li>
<li>Include examples in function documentation</li>
<li>Use markdown for documentation files</li>
<li>Keep README.md up to date with new features</li>
</ul></div>
<div class="section level2">
<h2 id="code-organization">Code Organization<a class="anchor" aria-label="anchor" href="#code-organization"></a></h2>
<ul><li>
<strong>Minimize bloat</strong>: Only include functions that directly serve the core mission (OCR, extraction, refinement, database)</li>
<li>No convenience wrappers or helper functions that users can easily do themselves</li>
<li>
<strong>No legacy code</strong>: Delete deprecated code immediately. Don’t keep <code>.old</code> files or commented-out code blocks</li>
</ul></div>
<div class="section level2">
<h2 id="questions">Questions?<a class="anchor" aria-label="anchor" href="#questions"></a></h2>
<p>If you have questions about contributing, please open an issue for discussion before starting work on large features.</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Your Name.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

