% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/database.R
\name{calculate_accuracy}
\alias{calculate_accuracy}
\title{Calculate extraction accuracy metrics from verified documents}
\usage{
calculate_accuracy(db_conn, document_ids = NULL)
}
\arguments{
\item{db_conn}{Database connection or path to database file}

\item{document_ids}{Optional vector of document IDs to include (default: all verified)}
}
\value{
List with accuracy metrics:

  Raw counts:
  - verified_documents: count of reviewed documents
  - verified_records: total records in verified documents
  - model_extracted: records extracted by model
  - human_added: records added by humans (model missed)
  - deleted: records deleted by humans (false positives)
  - edited: records with column-level edits
  - correct: model records kept without edits
  - column_edits: named vector of edit counts per column

  Derived rates:
  - precision: correct / model_extracted
  - recall: correct / (correct + human_added)
  - f1_score: 2 * precision * recall / (precision + recall)
  - record_accuracy: correct / model_extracted (same as precision)
  - column_accuracy: named vector of per-column accuracy (1 - edits/model_extracted)
}
\description{
Computes precision, recall, F1, and per-column accuracy from human-reviewed documents.
Only includes records from documents that have been reviewed (reviewed_at IS NOT NULL).
}
